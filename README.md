VIM 总结

# 一、 关于VIM

## 1.1 关于名字

VIM: Vi Improved

## 1.2 vim的模式:

一般可分为3种:

1. **Normal(common) mode**: c-mode, 进入vim就是，可以输入命令
2. **Insert mode**: i-mode, 按i进入，可以输入文字, 按Esc就回到c-mode
3. **Ed mode**: e-mode, 按冒号:进入, 可以输入Ed指令, 按Esc回到c-mode

*ed是一个很古老的行编辑器，vi，sed这些都是从ed衍化而来。还有DOS下的edline.*


# 二、基本操作

## 2.1 最重要的那些
### 2.1.1 创建文件
直接在命令行来创建文件并编辑：

`vim text.txt`

先进入vim再创建文件:

`vim`

`e text.txt`


### 2.1.2 编写文件

按i进入i-mode，编写即可

### 2.1.3 保存并退出VIM

按Esc回到c-mode，输入
`:w`就会保存，`:q`就会退出。或者直接`:wq`保存退出.

## 2.2 移动光标

### 2.2.1 基本移动

原始的vi只能在c-mode移动光标,但改进的vim无论在哪个mode都可通过方向键移动光标.

*以下命令都是在c-mode下进行.*

小幅度:

```
                     k(-,↑)
h(backspace,←)        o              l(space,→)
                     j(enter,+,↓)
```

backspace和space会继续到下一行或上一行

jk会保持当前列,但是enter,+,-会移动到上(下)一行的第一个非空白字符.

中幅度:

ctrl-u  上半页

ctrl-d  下半页


大幅度:

ctrl-f = pagedown  下一页

ctrl-b = pageup    上一页

### 2.2.2 进阶

**行级别**:



数字0或者Home键,移到行首(含空白字符).

^移到第一个非空白字符, \$或End键移动到行尾(含空白), 来自正则表达式  ^.*\$

**文档级别**



G 移到文件末尾(最后一行的第一个非空白字符处)

gg=1G 移到文件开头(第一行的第一个非空白字符处)

nG或:n 移到第n行的行首,G是Goto的意思



**word级别**



w: 移到下一个word的字**首**

W: 类似w,但会跳过标点



e: 移到下一个word的字**尾**

E: 类似e,但会跳过标点



b: 移到前一个word的字**首**

B: 类似



H\M\L: 移到屏幕开头/中间/底部的第一个非空白字符.与Page Down/Up的区别在于其只移动光标,并不移动内容.

n| 移至第n个字符列出(n从头开始算).



**句子(sentence)/段落(paragraph)级别**

* word是用空白或标点分隔的单元
* 句子(sentence)是用.!?号分隔的单元
* 段落(paragraph)是用空白行分隔的单元



) 移到下一个句子的句首

( 移到上一个句子的句首

} 移到下一个段落的段首

{ 移到上一个段落的段落



**% 匹配括号, 写程序时比较有用 **





## 2.3 编辑指令

### 2.3.1 进入i-mode的指令:

* i 在光标所在字符前插入文字(insert)
* a 在光标所在字符后追加文字(append)
* o 在光标所在行的下一行开辟新行来输入文字(open)
* O 在光标所在行的上一行开辟新行来输入文字
* I 在所在行首输入文字(第一个非空白字符), 如果想从真的第一个字符开始编辑(包含空白字符),可以使用0i或者gI
* A 在所在行尾输入文字
* J 将下一行连接到本行(会抹去下一行的开始的所有空白字符,再在两行之间留下一个空白字符, 如果想保留原始空白状态, 可以使用gJ)

### 2.3.2 删除指令

x 删除光标所在处的字符,或可用del键.

X 删除光标之前的字符,相当于backspace的功能

dd 删除一整行(delete line)

dw 删除一个字(删除到w的位置)

dG 删除到文档末尾

d1G或dgg 删除到文档开头

D 删除到行尾,或d$ (含光标处字符)

d0 删除到行首,或d^ (类似于0和^的区别,不含光标处字符)


### 2.3.3 替换操作

r 替换光标处字符

R 替换字符直至按Esc为止

cc或S 替换整行内容

cw 替换一个word

~ 光标所在处字符大小写互换

















